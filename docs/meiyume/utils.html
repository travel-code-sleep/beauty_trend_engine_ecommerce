<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>meiyume.utils API documentation</title>
<meta name="description" content="Utils module contains crucial classes and functions that are used in all other modules of meiyume package." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>meiyume.utils</code></h1>
</header>
<section id="section-intro">
<p>Utils module contains crucial classes and functions that are used in all other modules of meiyume package.</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="meiyume.utils.accept_alert"><code class="name flex">
<span>def <span class="ident">accept_alert</span></span>(<span>drv: Union[selenium.webdriver.firefox.webdriver.WebDriver, selenium.webdriver.chrome.webdriver.WebDriver], wait_time: int) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>accept_alert accepts unusual alerts on the webpage when scraping.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>drv</code></strong> :&ensp;<code>Union[webdriver.Firefox, webdriver.Chrome]</code></dt>
<dd>The selenium driver with opened webpage.</dd>
<dt><strong><code>wait_time</code></strong> :&ensp;<code>int</code></dt>
<dd>Time to wait for the alert to appear.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.chunks"><code class="name flex">
<span>def <span class="ident">chunks</span></span>(<span>l, n)</span>
</code></dt>
<dd>
<div class="desc"><p>Yield successive n-sized chunks from l.</p>
<h2 id="arguments">Arguments</h2>
<p>l {[list, range, index]} &ndash; [description]
n {[type]} &ndash; [description]</p></div>
</dd>
<dt id="meiyume.utils.close_popups"><code class="name flex">
<span>def <span class="ident">close_popups</span></span>(<span>drv: Union[selenium.webdriver.firefox.webdriver.WebDriver, selenium.webdriver.chrome.webdriver.WebDriver])</span>
</code></dt>
<dd>
<div class="desc"><p>close_popups closes pop up banners/messages/windows on webpage during scraping.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>drv</code></strong> :&ensp;<code>Union[webdriver.Firefox, webdriver.Chrome]</code></dt>
<dd>The selenium driver with opened webpage.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.convert_ago_to_date"><code class="name flex">
<span>def <span class="ident">convert_ago_to_date</span></span>(<span>x: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>convert_ago_to_date removes ago from date and converts to proper date format.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>x</code></strong> :&ensp;<code>str</code></dt>
<dd>Date data to clean. (e.g.: 11 days ago)</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Cleaned date data in dd mm yyyy format.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.hasNumbers"><code class="name flex">
<span>def <span class="ident">hasNumbers</span></span>(<span>inputString: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Hasnumbers checks whether string contains any numerical characters.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>inputString</code></strong> :&ensp;<code>str</code></dt>
<dd>Input String</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bool</code></dt>
<dd>True if contains numbers.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.log_exception"><code class="name flex">
<span>def <span class="ident">log_exception</span></span>(<span>logger: <a title="meiyume.utils.Logger" href="#meiyume.utils.Logger">Logger</a>, additional_information: Union[str, NoneType] = None) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>log_exception logs exception when occurred while executing code.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>logger</code></strong> :&ensp;<code><a title="meiyume.utils.Logger" href="#meiyume.utils.Logger">Logger</a></code></dt>
<dd>The logger handler with access to log file.</dd>
<dt><strong><code>additional_information</code></strong> :&ensp;<code>Optional[str]</code>, optional</dt>
<dd>Any additional text info to add to the exception log.
Defaults to None.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.ranges"><code class="name flex">
<span>def <span class="ident">ranges</span></span>(<span>N: int, nb: int, start_idx: int = 0) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Ranges partions a sequence of integers into equally spaced ranges.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>N</code></strong> :&ensp;<code>int</code></dt>
<dd>end index of the range or length</dd>
<dt><strong><code>nb</code></strong> :&ensp;<code>int</code></dt>
<dd>no. of equally spaced ranges to return</dd>
<dt><strong><code>start_idx</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Start index of the range list. Defaults to 0.
If start index is given the range partions will start from start_idx instead of 0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>list</code></dt>
<dd>list of equispaced ranges between [(start_idx, N)]</dd>
</dl></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="meiyume.utils.Boots"><code class="flex name class">
<span>class <span class="ident">Boots</span></span>
<span>(</span><span>data_def: str = None, path: Union[str, pathlib.Path] = WindowsPath('D:/Amit/Meiyume/meiyume_master_source_codes'))</span>
</code></dt>
<dd>
<div class="desc"><p>This object is inherited by all crawler and cleaner classes in bts.crawler module.</p>
<p>Boots class creates and sets directories for respective data definitions.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>Browser</code></strong> :&ensp;<code>object</code></dt>
<dd>Browser class serves selenium webdriver in head or headless
mode. It also provides some additional utilities such as scrolling. proxies etc.</dd>
</dl>
<p><strong>init</strong> Boots class instance constructor creates all the data folder paths as per data definition.</p>
<p>The sub directories are created under parent directory only when the folders don't already exist.</p>
<h2 id="args_1">Args</h2>
<dl>
<dt><strong><code>data_def</code></strong> :&ensp;<code>[type]</code>, optional</dt>
<dd>Type of e-commerce data. Defaults to None.(Accepted values: [Metadata, Detail, Review])</dd>
<dt><strong><code>path</code></strong> :&ensp;<code>Union[str, Path]</code>, optional</dt>
<dd>The parent directory where the data definition specific sub-directories
will be created. Defaults to Path.cwd().</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="meiyume.utils.Browser" href="#meiyume.utils.Browser">Browser</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="meiyume.bts.crawler.DetailReview" href="bts/crawler.html#meiyume.bts.crawler.DetailReview">DetailReview</a></li>
<li><a title="meiyume.bts.crawler.Metadata" href="bts/crawler.html#meiyume.bts.crawler.Metadata">Metadata</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="meiyume.utils.Browser" href="#meiyume.utils.Browser">Browser</a></b></code>:
<ul class="hlist">
<li><code><a title="meiyume.utils.Browser.open_browser" href="#meiyume.utils.Browser.open_browser">open_browser</a></code></li>
<li><code><a title="meiyume.utils.Browser.open_browser_firefox" href="#meiyume.utils.Browser.open_browser_firefox">open_browser_firefox</a></code></li>
<li><code><a title="meiyume.utils.Browser.scroll_down_page" href="#meiyume.utils.Browser.scroll_down_page">scroll_down_page</a></code></li>
<li><code><a title="meiyume.utils.Browser.scroll_to_element" href="#meiyume.utils.Browser.scroll_to_element">scroll_to_element</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="meiyume.utils.Browser"><code class="flex name class">
<span>class <span class="ident">Browser</span></span>
</code></dt>
<dd>
<div class="desc"><p>Browser class serves selenium web-driver in head and headless mode for web scraping.</p>
<p>Browser module provides methods to either use chrome or firefox browser for scraping.</p>
<p>It carries out below functions:
1. Instantiate selenium driver for scraping.
2. Enable or disable ip rotation service
3. Open web pages to take high resolution screenshots.
4. Scroll web page.
5. Scroll to particular element on a webpage.</p></div>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="meiyume.utils.Boots" href="#meiyume.utils.Boots">Boots</a></li>
<li><a title="meiyume.utils.Sephora" href="#meiyume.utils.Sephora">Sephora</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="meiyume.utils.Browser.scroll_down_page"><code class="name flex">
<span>def <span class="ident">scroll_down_page</span></span>(<span>driver: Union[selenium.webdriver.firefox.webdriver.WebDriver, selenium.webdriver.chrome.webdriver.WebDriver], speed: int = 8, h1: int = 0, h2: int = 1) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>scroll_down_page scrolls up or down a page at given speed.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>driver</code></strong> :&ensp;<code>Union[webdriver.Firefox, webdriver.Chrome]</code></dt>
<dd>The selenium driver with opened webpage.</dd>
<dt><strong><code>speed</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Scrolling speed. Defaults to 8.</dd>
<dt><strong><code>h1</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Starting height from which to scroll. Defaults to 0.</dd>
<dt><strong><code>h2</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Ending height to which to scroll. Defaults to 1.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.Browser.scroll_to_element"><code class="name flex">
<span>def <span class="ident">scroll_to_element</span></span>(<span>driver: Union[selenium.webdriver.firefox.webdriver.WebDriver, selenium.webdriver.chrome.webdriver.WebDriver], element: selenium.webdriver.remote.webelement.WebElement) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>scroll_to_element scrolls to a particular element on a webpage.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>driver</code></strong> :&ensp;<code>Union[webdriver.Firefox, webdriver.Chrome]</code></dt>
<dd>The selenium driver with opened webpage.</dd>
<dt><strong><code>element</code></strong> :&ensp;<code>WebElement</code></dt>
<dd>The web element to scroll to.</dd>
</dl></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="meiyume.utils.Browser.open_browser"><code class="name flex">
<span>def <span class="ident">open_browser</span></span>(<span>self, open_headless: bool = False, open_for_screenshot: bool = False, open_with_proxy_server: bool = False, path: pathlib.Path = WindowsPath('D:/Amit/Meiyume/meiyume_master_source_codes')) ‑> selenium.webdriver.chrome.webdriver.WebDriver</span>
</code></dt>
<dd>
<div class="desc"><p>open_browser instantiates selenium chrome driver with or without proxy services.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>open_headless</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to open browser in headless mode. Defaults to False.</dd>
<dt><strong><code>open_for_screenshot</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to open browser to take screenshots. Defaults to False.</dd>
<dt><strong><code>open_with_proxy_server</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to enable ip rotation service. Defaults to False.</dd>
<dt><strong><code>path</code></strong> :&ensp;<code>Path</code>, optional</dt>
<dd>Folder path where the driver software will be saved and used from.
Defaults to current working directory(Path.cwd()).</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>webdriver.Chrome</code></dt>
<dd>Instantiated chrome driver.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.Browser.open_browser_firefox"><code class="name flex">
<span>def <span class="ident">open_browser_firefox</span></span>(<span>self, open_headless: bool = False, open_for_screenshot: bool = False, open_with_proxy_server: bool = False, path: pathlib.Path = WindowsPath('D:/Amit/Meiyume/meiyume_master_source_codes')) ‑> selenium.webdriver.firefox.webdriver.WebDriver</span>
</code></dt>
<dd>
<div class="desc"><p>open_browser instantiates selenium firefox geckodriver with or without proxy services.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>open_headless</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to open browser in headless mode. Defaults to False.</dd>
<dt><strong><code>open_for_screenshot</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to open browser to take screenshots. Defaults to False.</dd>
<dt><strong><code>open_with_proxy_server</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to enable ip rotation service. Defaults to False.</dd>
<dt><strong><code>path</code></strong> :&ensp;<code>Path</code>, optional</dt>
<dd>Folder path where the driver software will be saved and used from.
Defaults to current working directory(Path.cwd()).</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>webdriver.Firefox</code></dt>
<dd>Instantiated firefox driver.</dd>
</dl></div>
</dd>
</dl>
</dd>
<dt id="meiyume.utils.DataAggregator"><code class="flex name class">
<span>class <span class="ident">DataAggregator</span></span>
</code></dt>
<dd>
<div class="desc"><p>DataAggregator future class to handle data merging from multiple sites.</p>
<p>[extended_summary]</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>object</code></strong> :&ensp;<code>[type]</code></dt>
<dd>[description]</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.Logger"><code class="flex name class">
<span>class <span class="ident">Logger</span></span>
<span>(</span><span>task_name: str, path: pathlib.Path)</span>
</code></dt>
<dd>
<div class="desc"><p>Logger creates file handlers to write program execution logs to disk.</p>
<p><strong>init</strong> initializes the file write stream.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>task_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the log file.</dd>
<dt><strong><code>path</code></strong> :&ensp;<code>Path</code></dt>
<dd>Path in which the generated logs will be stored.</dd>
</dl></div>
<h3>Methods</h3>
<dl>
<dt id="meiyume.utils.Logger.start_log"><code class="name flex">
<span>def <span class="ident">start_log</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Start writing logs.</p></div>
</dd>
<dt id="meiyume.utils.Logger.stop_log"><code class="name flex">
<span>def <span class="ident">stop_log</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Stop writing logs and flush the file handlers.</p></div>
</dd>
</dl>
</dd>
<dt id="meiyume.utils.MeiyumeException"><code class="flex name class">
<span>class <span class="ident">MeiyumeException</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>MeiyumeException class to define custom exceptions in runtime.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>Exception</code></strong> :&ensp;<code>object</code></dt>
<dd>Python exceptions module.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="meiyume.utils.ModelsAlgorithms"><code class="flex name class">
<span>class <span class="ident">ModelsAlgorithms</span></span>
<span>(</span><span>path: Union[str, pathlib.Path] = WindowsPath('D:/Amit/Meiyume/meiyume_master_source_codes'))</span>
</code></dt>
<dd>
<div class="desc"><p>ModelsAlgorithms creates folder structure to store outputs from several algorithms to disk.</p>
<p><strong>init</strong> ModelsAlgorithms instance constructor will create the output paths at time of instantiation.</p>
<h2 id="args">Args</h2>
<p>path Union[str, Path]: The parent directory where the output subdirectories will be created.
Defaults to current working directory(Path.cwd()).</p></div>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="meiyume.algorithms.KeyWords" href="algorithms.html#meiyume.algorithms.KeyWords">KeyWords</a></li>
<li><a title="meiyume.algorithms.PredictInfluence" href="algorithms.html#meiyume.algorithms.PredictInfluence">PredictInfluence</a></li>
<li><a title="meiyume.algorithms.PredictSentiment" href="algorithms.html#meiyume.algorithms.PredictSentiment">PredictSentiment</a></li>
<li><a title="meiyume.algorithms.SelectCandidate" href="algorithms.html#meiyume.algorithms.SelectCandidate">SelectCandidate</a></li>
<li><a title="meiyume.algorithms.SexyIngredient" href="algorithms.html#meiyume.algorithms.SexyIngredient">SexyIngredient</a></li>
<li><a title="meiyume.algorithms.SexyMetaDetail" href="algorithms.html#meiyume.algorithms.SexyMetaDetail">SexyMetaDetail</a></li>
<li><a title="meiyume.algorithms.SexyReview" href="algorithms.html#meiyume.algorithms.SexyReview">SexyReview</a></li>
<li><a title="meiyume.algorithms.Summarizer" href="algorithms.html#meiyume.algorithms.Summarizer">Summarizer</a></li>
</ul>
</dd>
<dt id="meiyume.utils.RedShiftReader"><code class="flex name class">
<span>class <span class="ident">RedShiftReader</span></span>
</code></dt>
<dd>
<div class="desc"><p>RedShiftReader connects to Redshift database and performs table querying for trend engine schema.</p>
<p><strong>init</strong> initializes RedshiftReader instance with all the database connection properties.</p></div>
<h3>Methods</h3>
<dl>
<dt id="meiyume.utils.RedShiftReader.query_database"><code class="name flex">
<span>def <span class="ident">query_database</span></span>(<span>self, query: str) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>query_database takes a sql query in text format and returns table/view query results as pandas dataframe.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>Sql query as a string in double quotes.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>pd.DataFrame</code></dt>
<dd>Dataframe containing query results.</dd>
</dl></div>
</dd>
</dl>
</dd>
<dt id="meiyume.utils.S3FileManager"><code class="flex name class">
<span>class <span class="ident">S3FileManager</span></span>
<span>(</span><span>bucket: str = 'meiyume-datawarehouse-prod')</span>
</code></dt>
<dd>
<div class="desc"><p>S3FileManager reads from and writes data to aws S3 storage.</p>
<p>S3FileManager has below major functions:
1. Find stored files with string search.
2. Upload files to S3.
3. Download files from S3.
4. Read files from S3 into pandas dataframes.
5. Delete files in S3.
6. Crete S3 folder path for data upload.</p>
<p><strong>init</strong> initializes S3FileManager instance with given data bucket.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>bucket</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The S3 bucket from/to which files will be read/downloaded/uploaded.
Defaults to 'meiyume-datawarehouse-prod'.</dd>
</dl></div>
<h3>Methods</h3>
<dl>
<dt id="meiyume.utils.S3FileManager.delete_file_s3"><code class="name flex">
<span>def <span class="ident">delete_file_s3</span></span>(<span>self, key: str) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>delete_file_s3 delete file object from S3.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>The file key to delete.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.get_last_modified_s3"><code class="name flex">
<span>def <span class="ident">get_last_modified_s3</span></span>(<span>self, key: str) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>get_last_modified_date_s3 gets the last modified date of a S3 object.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>Object key to find last modified date for.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Dictionary containing the key and last modified timestamp.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.get_matching_s3_keys"><code class="name flex">
<span>def <span class="ident">get_matching_s3_keys</span></span>(<span>self, prefix: str = '', suffix: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>get_matching_s3_keys Generates the matching keys in an S3 bucket.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>prefix</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Only fetch objects whose key starts with this prefix. Defaults to "".</dd>
<dt><strong><code>suffix</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Only fetch objects whose keys end with this suffix. Defaults to "".</dd>
</dl>
<h2 id="yields">Yields</h2>
<dl>
<dt><code>Any</code></dt>
<dd>Matching S3 object key</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.get_matching_s3_objects"><code class="name flex">
<span>def <span class="ident">get_matching_s3_objects</span></span>(<span>self, prefix: str = '', suffix: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>get_matching_s3_objects searches S3 with string matching to find relevant keys.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>prefix</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Only fetch objects whose key starts with this prefix. Defaults to "".</dd>
<dt><strong><code>suffix</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Only fetch objects whose keys end with this suffix. Defaults to "".</dd>
</dl>
<h2 id="yields">Yields</h2>
<p>Matching S3 keys.</p></div>
</dd>
<dt id="meiyume.utils.S3FileManager.get_prefix_s3"><code class="name flex">
<span>def <span class="ident">get_prefix_s3</span></span>(<span>self, job_name: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>get_prefix_s3 sets the correct S3 file prefix depending on the upload job.</p>
<p>[extended_summary]</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>job_name</code></strong> :&ensp;<code>str</code></dt>
<dd>[description]</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="meiyume.utils.MeiyumeException" href="#meiyume.utils.MeiyumeException">MeiyumeException</a></code></dt>
<dd>[description]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>[description]</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.pull_file_s3"><code class="name flex">
<span>def <span class="ident">pull_file_s3</span></span>(<span>self, key: str, file_path: pathlib.Path = WindowsPath('D:/Amit/Meiyume/meiyume_master_source_codes')) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>pull_file_s3 dowload file from S3.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>The file object to download.</dd>
<dt><strong><code>file_path</code></strong> :&ensp;<code>Path</code>, optional</dt>
<dd>The path in which the downloaded file will be stored.
Defaults to current working directory (Path.cwd()).</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.push_file_s3"><code class="name flex">
<span>def <span class="ident">push_file_s3</span></span>(<span>self, file_path: Union[str, pathlib.Path], job_name: str) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>push_file_s3 upload file to S3 storage with job name specific prefix.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>file_path</code></strong> :&ensp;<code>Union[str, Path]</code></dt>
<dd>File path of the file to be uploaded as a string or Path object.</dd>
<dt><strong><code>job_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Type of file to upload: One of [meta_detail, item, ingredient,
review, review_summary, image,
cleaned_pre_algorithm, webappdata]</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.read_csv_s3"><code class="name flex">
<span>def <span class="ident">read_csv_s3</span></span>(<span>self, key: str) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>read_csv_s3 will be removed in next version.</p>
<p>[extended_summary]</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>[description]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>pd.DataFrame</code></dt>
<dd>[description]</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.read_data_to_dataframe_s3"><code class="name flex">
<span>def <span class="ident">read_data_to_dataframe_s3</span></span>(<span>self, key: str, file_type: str) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>read_data_to_dataframe_s3 reads S3 object into a pandas dataframe.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>S3 object key.</dd>
<dt><strong><code>file_type</code></strong> :&ensp;<code>str</code></dt>
<dd>File format.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="meiyume.utils.MeiyumeException" href="#meiyume.utils.MeiyumeException">MeiyumeException</a></code></dt>
<dd>Raises exception if incorrect key or file type provied. (Accepted types: csv, feather, pickle)</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>pd.DataFrame</code></dt>
<dd>File data in pandas dataframe.</dd>
</dl></div>
</dd>
<dt id="meiyume.utils.S3FileManager.read_feather_s3"><code class="name flex">
<span>def <span class="ident">read_feather_s3</span></span>(<span>self, key: str) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>read_feather_s3 will be removed in next version.</p>
<p>[extended_summary]</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>[description]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>pd.DataFrame</code></dt>
<dd>[description]</dd>
</dl></div>
</dd>
</dl>
</dd>
<dt id="meiyume.utils.Sephora"><code class="flex name class">
<span>class <span class="ident">Sephora</span></span>
<span>(</span><span>data_def: str = None, path: Union[str, pathlib.Path] = WindowsPath('D:/Amit/Meiyume/meiyume_master_source_codes'))</span>
</code></dt>
<dd>
<div class="desc"><p>This object is inherited by all crawler and cleaner classes in sph.crawler module.</p>
<p>Sephora class creates and sets directories for respective data definitions.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>Browser</code></strong> :&ensp;<code>object</code></dt>
<dd>Browser class serves selenium webdriver in head or headless
mode. It also provides some additional utilities such as scrolling. proxies etc.</dd>
</dl>
<p><strong>init</strong> Sephora class instacne constructor creates all the data folder paths as per data definition.</p>
<p>The sub directories are created under parent directory only when the folders don't already exist.</p>
<h2 id="args_1">Args</h2>
<dl>
<dt><strong><code>data_def</code></strong> :&ensp;<code>[type]</code>, optional</dt>
<dd>Type of e-commerce data. Defaults to None.(Accepted values: [Metadata, Detail, Review])</dd>
<dt><strong><code>path</code></strong> :&ensp;<code>Union[str, Path]</code>, optional</dt>
<dd>The parent directory where the data definition specific sub-directories
will be created. Defaults to Path.cwd().</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="meiyume.utils.Browser" href="#meiyume.utils.Browser">Browser</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="meiyume.sph.crawler.Detail" href="sph/crawler.html#meiyume.sph.crawler.Detail">Detail</a></li>
<li><a title="meiyume.sph.crawler.DetailReview" href="sph/crawler.html#meiyume.sph.crawler.DetailReview">DetailReview</a></li>
<li><a title="meiyume.sph.crawler.Image" href="sph/crawler.html#meiyume.sph.crawler.Image">Image</a></li>
<li><a title="meiyume.sph.crawler.Metadata" href="sph/crawler.html#meiyume.sph.crawler.Metadata">Metadata</a></li>
<li><a title="meiyume.sph.crawler.Review" href="sph/crawler.html#meiyume.sph.crawler.Review">Review</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="meiyume.utils.Browser" href="#meiyume.utils.Browser">Browser</a></b></code>:
<ul class="hlist">
<li><code><a title="meiyume.utils.Browser.open_browser" href="#meiyume.utils.Browser.open_browser">open_browser</a></code></li>
<li><code><a title="meiyume.utils.Browser.open_browser_firefox" href="#meiyume.utils.Browser.open_browser_firefox">open_browser_firefox</a></code></li>
<li><code><a title="meiyume.utils.Browser.scroll_down_page" href="#meiyume.utils.Browser.scroll_down_page">scroll_down_page</a></code></li>
<li><code><a title="meiyume.utils.Browser.scroll_to_element" href="#meiyume.utils.Browser.scroll_to_element">scroll_to_element</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="meiyume" href="index.html">meiyume</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="meiyume.utils.accept_alert" href="#meiyume.utils.accept_alert">accept_alert</a></code></li>
<li><code><a title="meiyume.utils.chunks" href="#meiyume.utils.chunks">chunks</a></code></li>
<li><code><a title="meiyume.utils.close_popups" href="#meiyume.utils.close_popups">close_popups</a></code></li>
<li><code><a title="meiyume.utils.convert_ago_to_date" href="#meiyume.utils.convert_ago_to_date">convert_ago_to_date</a></code></li>
<li><code><a title="meiyume.utils.hasNumbers" href="#meiyume.utils.hasNumbers">hasNumbers</a></code></li>
<li><code><a title="meiyume.utils.log_exception" href="#meiyume.utils.log_exception">log_exception</a></code></li>
<li><code><a title="meiyume.utils.ranges" href="#meiyume.utils.ranges">ranges</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="meiyume.utils.Boots" href="#meiyume.utils.Boots">Boots</a></code></h4>
</li>
<li>
<h4><code><a title="meiyume.utils.Browser" href="#meiyume.utils.Browser">Browser</a></code></h4>
<ul class="">
<li><code><a title="meiyume.utils.Browser.open_browser" href="#meiyume.utils.Browser.open_browser">open_browser</a></code></li>
<li><code><a title="meiyume.utils.Browser.open_browser_firefox" href="#meiyume.utils.Browser.open_browser_firefox">open_browser_firefox</a></code></li>
<li><code><a title="meiyume.utils.Browser.scroll_down_page" href="#meiyume.utils.Browser.scroll_down_page">scroll_down_page</a></code></li>
<li><code><a title="meiyume.utils.Browser.scroll_to_element" href="#meiyume.utils.Browser.scroll_to_element">scroll_to_element</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="meiyume.utils.DataAggregator" href="#meiyume.utils.DataAggregator">DataAggregator</a></code></h4>
</li>
<li>
<h4><code><a title="meiyume.utils.Logger" href="#meiyume.utils.Logger">Logger</a></code></h4>
<ul class="">
<li><code><a title="meiyume.utils.Logger.start_log" href="#meiyume.utils.Logger.start_log">start_log</a></code></li>
<li><code><a title="meiyume.utils.Logger.stop_log" href="#meiyume.utils.Logger.stop_log">stop_log</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="meiyume.utils.MeiyumeException" href="#meiyume.utils.MeiyumeException">MeiyumeException</a></code></h4>
</li>
<li>
<h4><code><a title="meiyume.utils.ModelsAlgorithms" href="#meiyume.utils.ModelsAlgorithms">ModelsAlgorithms</a></code></h4>
</li>
<li>
<h4><code><a title="meiyume.utils.RedShiftReader" href="#meiyume.utils.RedShiftReader">RedShiftReader</a></code></h4>
<ul class="">
<li><code><a title="meiyume.utils.RedShiftReader.query_database" href="#meiyume.utils.RedShiftReader.query_database">query_database</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="meiyume.utils.S3FileManager" href="#meiyume.utils.S3FileManager">S3FileManager</a></code></h4>
<ul class="">
<li><code><a title="meiyume.utils.S3FileManager.delete_file_s3" href="#meiyume.utils.S3FileManager.delete_file_s3">delete_file_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.get_last_modified_s3" href="#meiyume.utils.S3FileManager.get_last_modified_s3">get_last_modified_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.get_matching_s3_keys" href="#meiyume.utils.S3FileManager.get_matching_s3_keys">get_matching_s3_keys</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.get_matching_s3_objects" href="#meiyume.utils.S3FileManager.get_matching_s3_objects">get_matching_s3_objects</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.get_prefix_s3" href="#meiyume.utils.S3FileManager.get_prefix_s3">get_prefix_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.pull_file_s3" href="#meiyume.utils.S3FileManager.pull_file_s3">pull_file_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.push_file_s3" href="#meiyume.utils.S3FileManager.push_file_s3">push_file_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.read_csv_s3" href="#meiyume.utils.S3FileManager.read_csv_s3">read_csv_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.read_data_to_dataframe_s3" href="#meiyume.utils.S3FileManager.read_data_to_dataframe_s3">read_data_to_dataframe_s3</a></code></li>
<li><code><a title="meiyume.utils.S3FileManager.read_feather_s3" href="#meiyume.utils.S3FileManager.read_feather_s3">read_feather_s3</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="meiyume.utils.Sephora" href="#meiyume.utils.Sephora">Sephora</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>